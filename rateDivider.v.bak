// rate divider 50 Mhz to ~60 Hz
module refresh_rate_counter
	(
		input clk,
		input resetn,
		output reg refresh
		
	);
	
	reg [19:0] q; // reg for curr val
		
	always @ (posedge clk, negedge resetn)
	begin
		if (!resetn)
			q <= 20'd833333;
		else if (q == 20'd0) begin // reset
			q <= 20'd833333;
			refresh <= 1'b1;
		end
		else begin
			q <= q - 20'd1;
			refresh <= 1'b0;
		end

	end

endmodule

// counts for 15 fps given a 60Hz counter
module frames_counter
	(
		input clk,
		input refresh,
		
		output reg go
		
	);
	
	reg [3:0] q; // reg for curr val
		
	always @ (posedge clk)
	begin
		if (q == 4'd0) begin // reset
			q <= 4'd15;
			go <= 1'b1;
		end
		else if (refresh) begin		// For every 3 frames send out a signal
			q <= q - 4'd5;
			go <= 1'b0;
			end
		else
			go <= 1'b0;

	end

endmodule